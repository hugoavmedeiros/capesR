---
title: "capesR"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{capesR}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(capesR)
```

# Introdução

O pacote **capesR** foi desenvolvido para facilitar o acesso e a manipulação dos dados do Catálogo de Teses e Dissertações da CAPES. Este catálogo contém informações sobre teses e dissertações defendidas em instituições de ensino superior no Brasil, com variáveis como:

- **IES**: Instituição de Ensino Superior.
- **Área de Concentração**: Área acadêmica do trabalho.
- **Região e UF**: Local onde a pesquisa foi conduzida.
- **Resumo do Trabalho**: Breve descrição do tema e objetivos.

Este pacote automatiza o processo de obtenção e organização desses dados, tornando-os acessíveis para análises e relatórios.

# Instalação

Para instalar o pacote, use:

```r
devtools::install_github("hugoavmedeiros/capesR")
```

# Baixando dados

A função `baixar_dados_capes` permite baixar arquivos de dados da CAPES hospedados no OSF. Você pode especificar os anos desejados, e os arquivos correspondentes serão salvos localmente.

## Exemplo:
```r
library(capesR)

# Baixar dados dos anos 1987 e 1990
arquivos <- baixar_dados_capes(c(1987, 1990))
```

# Combinando os dados
Use a função ler_dados_capes para combinar os arquivos baixados:

## Exemplo:
```r
dados <- ler_dados_capes(arquivos)
head(dados)
```

# Dados Sintéticos
O pacote também fornece um conjunto de dados sintéticos, df_capes_sintetico, que contém informações agregadas do Catálogo de Teses e Dissertações. Esses dados foram sintetizados para facilitar análises rápidas e prototipagem, sem a necessidade de baixar e processar arquivos completos.

## Estrutura dos Dados
Os dados sintéticos incluem as seguintes colunas:

- ano_base: Ano base do dado.
- ies: Instituição de Ensino Superior.
- area: Área de Concentração.
- nome_programa: Nome do Programa de Pós-graduação.
- tipo: Tipo do trabalho (ex.: Mestrado, Doutorado).
- regiao: Região do Brasil.
- uf: Unidade Federativa (estado).
- n: Número total de trabalhos.

## Carregando os Dados
Os dados sintéticos estão disponíveis diretamente no pacote e podem ser carregados com o comando:

```r
data(df_capes_sintetico)

# Visualizar as primeiras linhas dos dados
head(df_capes_sintetico)
```
## Exemplo de Uso
Você pode utilizar os dados sintéticos para criar análises exploratórias ou gráficos rápidos:

```r
# Carregar os dados
data(df_capes_sintetico)

# Exemplo: Contagem por ano e tipo de trabalho
library(dplyr)
df_capes_sintetico %>%
  group_by(ano_base, tipo) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total))
```

# Conclusão

Este tutorial apresentou os passos básicos para utilizar o pacote **capesR**. Para mais informações sobre as funções disponíveis, consulte a documentação com:

```r
?baixar_dados_capes
?ler_dados_capes
?df_capes_sintetico
```
